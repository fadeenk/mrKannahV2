{"version":3,"sources":["components/DrawerAppBar.js","components/Firebase/context.js","components/Firebase/firebase.js","components/Firebase/index.js","components/SignIn.js","components/Contacts.js","components/NewContact.js","components/Campaign/Thumb.js","components/Campaign/NewCampaign.js","App.js","theme.js","index.js"],"names":["useStyles","makeStyles","theme","root","flexGrow","list","width","menuButton","marginRight","spacing","title","DrawerAppBar","classes","history","useHistory","React","useState","auth","setAuth","anchorEl","setAnchorEl","open","Boolean","handleMenu","event","currentTarget","handleClose","handleNavigation","route","push","className","AppBar","position","Toolbar","IconButton","edge","color","aria-label","onClick","Typography","variant","Drawer","id","onClose","List","ListItem","button","ListItemText","aria-controls","aria-haspopup","FirebaseContext","createContext","config","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","Firebase","doCreateUserWithEmailAndPassword","email","password","createUserWithEmailAndPassword","doSignInWithEmailAndPassword","signInWithEmailAndPassword","doSignInWithGoogle","signInWithPopup","googleProvider","doSignInWithFacebook","facebookProvider","doSignInWithTwitter","twitterProvider","doSignOut","signOut","doPasswordReset","sendPasswordResetEmail","doSendEmailVerification","currentUser","sendEmailVerification","url","process","REACT_APP_CONFIRMATION_EMAIL_REDIRECT","doPasswordUpdate","updatePassword","onAuthUserListener","next","isListening","onAuthStateChanged","authUser","uid","emailVerified","providerData","getCurrentUser","getStorageRef","storage","ref","child","app","initializeApp","this","serverValue","firestore","ServerValue","emailAuthProvider","EmailAuthProvider","db","GoogleAuthProvider","FacebookAuthProvider","TwitterAuthProvider","SignIn","firebase","useContext","loggedIn","setLoggedIn","user","uiConfig","callbacks","signInSuccessWithAuthResult","authResult","redirectUrl","signInSuccessUrl","signInFlow","signInOptions","providerId","provider","scopes","Container","Button","setState","firebaseAuth","backgroundColor","palette","background","paper","minHeight","CheckboxListSecondary","checkedContacts","setChecked","contacts","setContacts","ownerID","fetchContacts","collection","where","get","then","snapshot","forEach","doc","data","sessionStorage","setItem","JSON","stringify","length","handleToggle","value","currentIndex","findIndex","contact","splice","checked","Link","map","alert","first","last","labelId","key","contactForUpdate","Object","assign","updateContact","ListItemAvatar","Avatar","firstName","lastName","substr","primary","ListItemSecondaryAction","Checkbox","onChange","inputProps","maxWidth","Fab","disabled","fab","a","async","promises","delete","Promise","all","deleteContacts","saveContact","values","set","NewContact","URLSearchParams","useLocation","search","phoneNumber","parse","getItem","initialValues","validate","errors","onSubmit","setSubmitting","duplicate","find","render","submitForm","isSubmitting","setFieldValue","name","type","label","component","TextField","MuiPhoneNumber","defaultCountry","onlyCountries","disableAreaCodes","phone","replace","LinearProgress","Thumb","props","loading","setLoading","thumb","setThumb","file","reader","FileReader","onloadend","result","readAsDataURL","src","alt","style","maxHeight","COLLECTION","saveCampaign","campaign","NewCampaign","files","setFiles","text","state","images","uploadAndGetFileURL","storageRef","metadata","contentType","put","getDownloadURL","Array","from","console","log","docID","error","axios","post","campaignID","setTimeout","multiple","accept","Copyright","align","href","Date","getFullYear","createMuiTheme","main","secondary","red","A400","default","ReactDOM","ThemeProvider","CssBaseline","Provider","isReady","setIsReady","disableGutters","CircularProgress","basename","path","to","document","querySelector"],"mappings":"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","file":"static/js/main.5eff386a.chunk.js","sourcesContent":["import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\nimport AccountCircle from '@material-ui/icons/AccountCircle';\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport Drawer from '@material-ui/core/Drawer';\r\nimport {useHistory} from \"react-router-dom\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    root: {\r\n        flexGrow: 1,\r\n    },\r\n    list: {\r\n        width: 250,\r\n    },\r\n    menuButton: {\r\n        marginRight: theme.spacing(2),\r\n    },\r\n    title: {\r\n        flexGrow: 1,\r\n    },\r\n}));\r\n\r\nexport default function DrawerAppBar() {\r\n    const classes = useStyles();\r\n    const history = useHistory();\r\n    const [auth, setAuth] = React.useState(false);\r\n    const [anchorEl, setAnchorEl] = React.useState(null);\r\n    const open = Boolean(anchorEl);\r\n\r\n    const handleMenu = event => {\r\n        setAnchorEl(event.currentTarget);\r\n    };\r\n\r\n    const handleClose = () => {\r\n        setAnchorEl(null);\r\n    };\r\n\r\n    function handleNavigation(route) {\r\n        if (route === '/about') setAuth(true);\r\n        else setAuth(false);\r\n        history.push(route);\r\n        handleClose();\r\n    }\r\n\r\n    return (\r\n        <div className={classes.root}>\r\n            <AppBar position=\"static\">\r\n                <Toolbar>\r\n                    <IconButton\r\n                        edge=\"start\"\r\n                        className={classes.menuButton}\r\n                        color=\"inherit\"\r\n                        aria-label=\"menu\"\r\n                        onClick={handleMenu}\r\n                    >\r\n                        <MenuIcon />\r\n                    </IconButton>\r\n                    <Typography variant=\"h6\" className={classes.title}>\r\n                        Title\r\n                    </Typography>\r\n                    <Drawer\r\n                        id=\"menu-appbar\"\r\n                        open={open}\r\n                        onClose={handleClose}\r\n                    >\r\n                        <List className={classes.list}>\r\n                            <ListItem button onClick={() => handleNavigation('/')}>\r\n                                <ListItemText>Home</ListItemText>\r\n                            </ListItem>\r\n                            <ListItem button onClick={() => handleNavigation('/about')}>\r\n                                <ListItemText>About</ListItemText>\r\n                            </ListItem>\r\n                            <ListItem button onClick={() => handleNavigation('/contacts')}>\r\n                                <ListItemText>Contacts</ListItemText>\r\n                            </ListItem>\r\n                            <ListItem button onClick={() => handleNavigation('/signIn')}>\r\n                                <ListItemText>Sign In</ListItemText>\r\n                            </ListItem>\r\n                        </List>\r\n                    </Drawer>\r\n                    {auth && (\r\n                        <div>\r\n                            <IconButton\r\n                                aria-label=\"account of current user\"\r\n                                aria-controls=\"menu-appbar\"\r\n                                aria-haspopup=\"true\"\r\n                                onClick={handleMenu}\r\n                                color=\"inherit\"\r\n                            >\r\n                                <AccountCircle />\r\n                            </IconButton>\r\n\r\n                        </div>\r\n                    )}\r\n                </Toolbar>\r\n            </AppBar>\r\n        </div>\r\n    );\r\n}\r\n\r\n","import React from 'react';\n\nconst FirebaseContext = React.createContext(null);\n\nexport const withFirebase = Component => props => (\n  <FirebaseContext.Consumer>\n    {firebase => <Component {...props} firebase={firebase} />}\n  </FirebaseContext.Consumer>\n);\n\nexport default FirebaseContext;\n","import app from 'firebase/app';\nimport 'firebase/auth';\nimport 'firebase/firestore';\nimport 'firebase/storage';\n\nconst config = {\n  apiKey: \"AIzaSyAW13v7Owgxl7bmjFede3fW8z4yRhUA5i8\",\n  authDomain: \"messenger-6915d.firebaseapp.com\",\n  databaseURL: \"https://messenger-6915d.firebaseio.com\",\n  projectId: \"messenger-6915d\",\n  storageBucket: \"messenger-6915d.appspot.com\",\n  messagingSenderId: \"775400894613\",\n  appId: \"1:775400894613:web:c7a2ec7fb7a795b6bd2b9c\",\n  measurementId: \"G-7D8FVV5M3E\"\n};\n\nclass Firebase {\n  constructor() {\n    app.initializeApp(config);\n\n    /* Helper */\n\n    this.serverValue = app.firestore.ServerValue;\n    this.emailAuthProvider = app.auth.EmailAuthProvider;\n\n    /* Firebase APIs */\n    this.isListening = false;\n    this.auth = app.auth();\n    this.db = app.firestore();\n    this.storage = app.storage();\n\n    /* Social Sign In Method Provider */\n\n    this.googleProvider = new app.auth.GoogleAuthProvider();\n    this.facebookProvider = new app.auth.FacebookAuthProvider();\n    this.twitterProvider = new app.auth.TwitterAuthProvider();\n  }\n\n  // *** Auth API ***\n\n  doCreateUserWithEmailAndPassword = (email, password) =>\n    this.auth.createUserWithEmailAndPassword(email, password);\n\n  doSignInWithEmailAndPassword = (email, password) =>\n    this.auth.signInWithEmailAndPassword(email, password);\n\n  doSignInWithGoogle = () =>\n    this.auth.signInWithPopup(this.googleProvider);\n\n  doSignInWithFacebook = () =>\n    this.auth.signInWithPopup(this.facebookProvider);\n\n  doSignInWithTwitter = () =>\n    this.auth.signInWithPopup(this.twitterProvider);\n\n  doSignOut = () => this.auth.signOut();\n\n  doPasswordReset = email => this.auth.sendPasswordResetEmail(email);\n\n  doSendEmailVerification = () =>\n    this.auth.currentUser.sendEmailVerification({\n      url: process.env.REACT_APP_CONFIRMATION_EMAIL_REDIRECT,\n    });\n\n  doPasswordUpdate = password =>\n    this.auth.currentUser.updatePassword(password);\n\n  // *** Merge Auth and DB User API *** //\n  onAuthUserListener = (next) => {\n      this.isListening = true;\n      this.auth.onAuthStateChanged(authUser => {\n          if (authUser) {\n              // this.user(authUser.uid)\n              //   .once('value')\n              //   .then(snapshot => {\n              //     const dbUser = snapshot.val();\n              //\n              //     // default empty roles\n              //     if (!dbUser.roles) {\n              //       dbUser.roles = {};\n              //     }\n\n              // merge auth and db user\n              authUser = {\n                  uid: authUser.uid,\n                  email: authUser.email,\n                  emailVerified: authUser.emailVerified,\n                  providerData: authUser.providerData,\n                  // ...dbUser,\n              };\n          }\n          next(authUser);\n          //     });\n          // } else {\n          //   fallback();\n          // }\n      });\n  }\n\n  // *** User API ***\n\n  getCurrentUser = () => this.auth.currentUser;\n  getStorageRef = () => this.storage.ref().child(this.auth.currentUser.uid);\n\n  // user = uid => this.db.ref(`users/${uid}`);\n  //\n  // users = () => this.db.ref('users');\n  //\n  // // *** Message API ***\n  //\n  // message = uid => this.db.ref(`messages/${uid}`);\n  //\n  // messages = () => this.db.ref('messages');\n}\n\nexport default Firebase;\n","import FirebaseContext, { withFirebase } from './context';\nimport Firebase from './firebase';\n\nexport default Firebase;\n\nexport { FirebaseContext, withFirebase };\n","import React, {useContext} from 'react';\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport {FirebaseContext} from \"./Firebase\";\r\nimport Container from \"@material-ui/core/Container\";\r\nimport StyledFirebaseAuth from 'react-firebaseui/StyledFirebaseAuth';\r\nimport {useHistory} from \"react-router-dom\";\r\n\r\nexport default function SignIn() {\r\n    const history = useHistory();\r\n    const firebase = useContext(FirebaseContext);\r\n    const [loggedIn, setLoggedIn] = React.useState(false);\r\n    firebase.auth.onAuthStateChanged(user => {\r\n        if (user) {\r\n            setLoggedIn(true);\r\n        }\r\n    });\r\n\r\n    const uiConfig = {\r\n        callbacks: {\r\n            signInSuccessWithAuthResult: function (authResult, redirectUrl) {\r\n                // User successfully signed in.\r\n                // Return type determines whether we continue the redirect automatically\r\n                // or whether we leave that to developer to handle.\r\n                history.push('/');\r\n                return false;\r\n            },\r\n        },\r\n        signInSuccessUrl: '/',\r\n        signInFlow: 'popup',\r\n        signInOptions: [\r\n            firebase.googleProvider.providerId,\r\n            {\r\n                provider: 'yahoo.com',\r\n                scopes:['sdpp-w']\r\n            }\r\n        ],\r\n    };\r\n    if (loggedIn) {\r\n        return (<Container>\r\n            <Typography>You are already logged In.</Typography>\r\n            <Button onClick={() => {\r\n                firebase.doSignOut();\r\n                this.setState({loggedIn: false})\r\n            }}>Sign out</Button>\r\n        </Container>)\r\n    }\r\n    return <StyledFirebaseAuth uiConfig={uiConfig} firebaseAuth={firebase.auth}/>\r\n}\r\n","import React, {useContext} from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Fab from '@material-ui/core/Fab';\r\nimport AddIcon from '@material-ui/icons/PersonAdd';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport SendIcon from '@material-ui/icons/Send';\r\n\r\nimport {FirebaseContext} from \"./Firebase\";\r\nimport {useHistory} from \"react-router-dom\";\r\nimport Container from \"@material-ui/core/Container\";\r\nimport Link from \"@material-ui/core/Link\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    root: {\r\n        width: '100%',\r\n        backgroundColor: theme.palette.background.paper,\r\n        minHeight: 500,\r\n    },\r\n}));\r\n\r\nexport default function CheckboxListSecondary() {\r\n    const classes = useStyles();\r\n    const history = useHistory();\r\n    const [checkedContacts, setChecked] = React.useState([]);\r\n    let [contacts, setContacts] = React.useState([]);\r\n    const firebase = useContext(FirebaseContext);\r\n    const db = firebase.db;\r\n    const currentUser = firebase.getCurrentUser();\r\n    if (!currentUser) history.push('/signIn');\r\n    const ownerID = currentUser ? currentUser.uid : null;\r\n    const fetchContacts = () => {\r\n        db.collection('contacts').where('ownerID', '==', ownerID).get().then((snapshot) => {\r\n            contacts = [];\r\n            snapshot.forEach((doc) => {\r\n                contacts.push({\r\n                    id: doc.id,\r\n                    ...doc.data(),\r\n                })\r\n            });\r\n            sessionStorage.setItem('contacts', JSON.stringify(contacts));\r\n            setContacts(contacts);\r\n        });\r\n    };\r\n    if (!contacts.length && ownerID) {\r\n        fetchContacts();\r\n    }\r\n    const handleToggle = value => () => {\r\n        const currentIndex = checkedContacts.findIndex(contact => contact.id === value.id);\r\n        if (currentIndex === -1) {\r\n            checkedContacts.push(value);\r\n        } else {\r\n            checkedContacts.splice(currentIndex, 1);\r\n        }\r\n        value.checked = !value.checked;\r\n        setChecked([...checkedContacts]);\r\n    };\r\n    const getAvatarLabel = (first, last) => {\r\n        if (last.length) {\r\n            return first[0] + last[0];\r\n        }\r\n        return first.substr(0,2);\r\n    };\r\n    const updateContact = (contact) => {\r\n        const contactForUpdate = Object.assign(contact);\r\n        delete contactForUpdate.checked;\r\n        sessionStorage.setItem('contact', JSON.stringify(contactForUpdate));\r\n        history.push('/contacts/new?data=updateContact');\r\n    };\r\n    const newCampaign = () => {\r\n        sessionStorage.setItem('newCampaign', JSON.stringify(checkedContacts));\r\n        history.push('/campaigns/new')\r\n    };\r\n    const deleteContacts = async () => {\r\n        const promises = checkedContacts.map(async (contact) => {\r\n            await db.collection('contacts').doc(contact.id).delete();\r\n            handleToggle(contact);\r\n        });\r\n        await Promise.all(promises);\r\n        fetchContacts();\r\n    };\r\n    const selectAll = () => {\r\n        setContacts(contacts.map(contact => {contact.checked = true; return contact}));\r\n        setChecked([...contacts]);\r\n        alert('Selected all contacts');\r\n    };\r\n    return (\r\n        <div>\r\n            {checkedContacts.length > 0 && <Link onClick={selectAll}>Select all</Link>}\r\n            <List className={classes.root}>\r\n                {contacts.length > 0 && contacts.map(contact => {\r\n                    const labelId = `checkbox-list-secondary-label-${contact.id}`;\r\n                    return (\r\n                        <ListItem key={contact.id} button onClick={() => updateContact(contact)}>\r\n                            <ListItemAvatar>\r\n                                <Avatar>{getAvatarLabel(contact.firstName, contact.lastName)}</Avatar>\r\n                            </ListItemAvatar>\r\n                            <ListItemText id={labelId} primary={`${contact.firstName} ${contact.lastName}`} />\r\n                            <ListItemSecondaryAction>\r\n                                <Checkbox\r\n                                    edge=\"end\"\r\n                                    onChange={handleToggle(contact)}\r\n                                    checked={contact.checked}\r\n                                    inputProps={{ 'aria-labelledby': labelId }}\r\n                                />\r\n                            </ListItemSecondaryAction>\r\n                        </ListItem>\r\n                    );\r\n                })}\r\n            </List>\r\n            <Container maxWidth=\"md\">\r\n                <Fab disabled={!checkedContacts.length} className={classes.fab} onClick={() => newCampaign()}>\r\n                    <SendIcon/>\r\n                </Fab>\r\n                <Fab disabled={!ownerID} className={classes.fab} onClick={() => history.push('/contacts/new')}>\r\n                    <AddIcon/>\r\n                </Fab>\r\n                <Fab disabled={!checkedContacts.length} className={classes.fab} onClick={() => deleteContacts()}>\r\n                    <DeleteIcon/>\r\n                </Fab>\r\n            </Container>\r\n        </div>\r\n    );\r\n}\r\n","import React, {useContext} from 'react';\r\nimport {Formik, Field, Form} from 'formik';\r\nimport {\r\n    Button,\r\n    LinearProgress,\r\n} from '@material-ui/core';\r\nimport {TextField} from 'formik-material-ui';\r\nimport MuiPhoneNumber from 'material-ui-phone-number';\r\nimport {FirebaseContext} from \"./Firebase\";\r\nimport {useHistory, useLocation} from \"react-router-dom\";\r\nimport Container from \"@material-ui/core/Container\";\r\n\r\nasync function saveContact(values, db, ownerID) {\r\n    const {id} = values;\r\n    const contact = {ownerID, ...values};\r\n    let doc = id ? db.collection('contacts').doc(id) : db.collection('contacts').doc();\r\n    await doc.set(contact);\r\n}\r\n\r\nexport default function NewContact() {\r\n    const firebase = useContext(FirebaseContext);\r\n    const history = useHistory();\r\n    const data = new URLSearchParams(useLocation().search).get('data');\r\n    let contact = {\r\n        firstName: '',\r\n        lastName: '',\r\n        phoneNumber: '',\r\n    };\r\n    if (data === 'updateContact') {\r\n        contact = JSON.parse(sessionStorage.getItem('contact'));\r\n    }\r\n    const contacts = JSON.parse(sessionStorage.getItem('contacts'));\r\n    return (<Formik\r\n        initialValues={contact}\r\n        validate={values => {\r\n            const errors = {};\r\n            if (!values.firstName) {\r\n                errors.firstName = 'Required';\r\n            }\r\n            if (!values.phoneNumber) {\r\n                errors.phoneNumber = 'Required';\r\n            }\r\n            return errors;\r\n        }}\r\n        onSubmit={async(values, {setSubmitting}) => {\r\n            const duplicate = contacts.find((contact) => contact.phoneNumber === values.phoneNumber);\r\n            if (duplicate) {\r\n                alert(`Number already exists for ${duplicate.firstName} ${duplicate.lastName}`);\r\n            } else {\r\n                await saveContact(values, firebase.db, firebase.getCurrentUser().uid);\r\n                history.push('/contacts');\r\n                setSubmitting(false);\r\n            }\r\n        }}\r\n        render={({submitForm, isSubmitting,values, setFieldValue}) => (\r\n            <Form>\r\n                <Container maxWidth=\"md\">\r\n                    <Field\r\n                        name=\"firstName\"\r\n                        type=\"text\"\r\n                        label=\"First Name\"\r\n                        component={TextField}\r\n                    />\r\n                    <br/>\r\n                    <Field\r\n                        name=\"lastName\"\r\n                        type=\"text\"\r\n                        label=\"Last Name\"\r\n                        component={TextField}\r\n                    />\r\n                    <br/>\r\n                    <Field\r\n                        name=\"phoneNumber\"\r\n                        type=\"text\"\r\n                        label=\"Phone\"\r\n                        value={contact.phoneNumber}\r\n                        component={MuiPhoneNumber}\r\n                        defaultCountry='us' onlyCountries={['us']}\r\n                        disableAreaCodes={true}\r\n                        onChange={phone => {\r\n                            setFieldValue('phoneNumber', phone.replace(/\\(|\\)|-|\\s/g, \"\"));\r\n                        }}\r\n                    />\r\n                    <br/>\r\n                    {isSubmitting && <LinearProgress/>}\r\n                    <br/>\r\n                    <Button\r\n                        variant=\"contained\"\r\n                        color=\"primary\"\r\n                        disabled={isSubmitting}\r\n                        onClick={submitForm}\r\n                    >\r\n                        Submit\r\n                    </Button>\r\n                </Container>\r\n            </Form>\r\n        )}\r\n    />)\r\n};\r\n","import React, {useState} from 'react';\r\n\r\nexport default function Thumb(props) {\r\n    const [loading, setLoading] = useState(true);\r\n    const [thumb, setThumb] = useState();\r\n    if (!props.file) { return; }\r\n\r\n    let reader = new FileReader();\r\n\r\n    reader.onloadend = () => {\r\n        setLoading(false);\r\n        setThumb(reader.result);\r\n    };\r\n\r\n    reader.readAsDataURL(props.file);\r\n\r\n    if (loading) { return <p>loading...</p>; }\r\n\r\n    return (<img src={thumb} alt={props.file.name} style={{maxWidth: 200, maxHeight: 200}} />);\r\n}\r\n","import React, {useContext, useState} from 'react';\r\nimport {Formik, Field, Form} from 'formik';\r\nimport {\r\n    Button,\r\n    LinearProgress,\r\n} from '@material-ui/core';\r\nimport {TextField} from 'formik-material-ui';\r\nimport {FirebaseContext} from \"../Firebase\";\r\nimport Thumb from './Thumb';\r\nimport {useHistory, useLocation} from \"react-router-dom\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport axios from 'axios';\r\nimport Container from \"@material-ui/core/Container\";\r\n\r\nconst COLLECTION = 'campaigns';\r\n\r\nasync function saveCampaign(values, db, ownerID) {\r\n    const {id} = values;\r\n    const campaign = {ownerID, ...values};\r\n    let doc = id ? db.collection(COLLECTION).doc(id) : db.collection(COLLECTION).doc();\r\n    await doc.set(campaign);\r\n    return doc.id;\r\n}\r\n\r\n\r\nexport default function NewCampaign() {\r\n    const firebase = useContext(FirebaseContext);\r\n    const history = useHistory();\r\n    const [files, setFiles] = useState([]);\r\n    const data = new URLSearchParams(useLocation().search).get('data');\r\n    let campaign = {\r\n        title: '',\r\n        text: '',\r\n        contacts: [],\r\n        state: 'draft',\r\n        images: [],\r\n    };\r\n    if (data === 'updateCampaign') {\r\n        campaign = JSON.parse(sessionStorage.getItem('campaign'));\r\n    } else {\r\n        campaign.contacts = JSON.parse(sessionStorage.getItem('newCampaign')) || [];\r\n    }\r\n    async function uploadAndGetFileURL(file) {\r\n        const storageRef = firebase.getStorageRef();\r\n        const ref = storageRef.child(file.name);\r\n        const metadata = {\r\n            contentType: file.type\r\n        };\r\n        const snapshot = await ref.put(file, metadata);\r\n        return await snapshot.ref.getDownloadURL();\r\n    }\r\n    return (<Formik\r\n        initialValues={campaign}\r\n        validate={values => {\r\n            const errors = {};\r\n            if (!values.title) {\r\n                errors.title = 'Required';\r\n            }\r\n            return errors;\r\n        }}\r\n        onSubmit={async(values, {setSubmitting}) => {\r\n            values.images = await Promise.all(Array.from(files).map(uploadAndGetFileURL));\r\n            console.log(values);\r\n            const docID = await saveCampaign(values, firebase.db, firebase.getCurrentUser().uid);\r\n            let error = false;\r\n            try {\r\n                await axios.post('https://rackley-beagle-8612.twil.io/newcampaign', {campaignID: docID});\r\n            } catch (e) {\r\n                error = e;\r\n            }\r\n            if (error) {\r\n                alert('failed');\r\n                console.error(error);\r\n            } else {\r\n                alert('Saved successfully!');\r\n            }\r\n            setTimeout(() => history.push('/contacts'), 5000);\r\n            setSubmitting(false);\r\n        }}\r\n        render={({submitForm, isSubmitting,values, setFieldValue}) => (\r\n            <Form>\r\n                <Container maxWidth=\"md\">\r\n                    <Field\r\n                        name=\"title\"\r\n                        type=\"text\"\r\n                        label=\"Title\"\r\n                        component={TextField}\r\n                    />\r\n                    <br/>\r\n                    <Field\r\n                        name=\"text\"\r\n                        type=\"text\"\r\n                        label=\"Text\"\r\n                        component={TextField}\r\n                    />\r\n                    <br/><br/>\r\n                    <Typography variant=\"body2\" >{`Sending to ${campaign.contacts.length} contact${campaign.contacts.length >1 ? 's':''}`}</Typography>\r\n                    <br/>\r\n                    <Typography variant=\"body1\" >\r\n                        Upload Images\r\n                    </Typography>\r\n                    <input aria-label=\"upload images\" multiple name=\"uploader\" type=\"file\" accept=\"image/*\" onChange={(event) => {\r\n                        setFiles(event.currentTarget.files);\r\n                        // setFieldValue(\"file\", event.currentTarget.files[0]);\r\n                    }} />\r\n                    <br/>\r\n                    {Array.from(files).map(file => {\r\n                        return <Thumb key={file.name} file={file} />\r\n                    })}\r\n                    <br/>\r\n                    {isSubmitting && <LinearProgress/>}\r\n                    <br/>\r\n                    <Button\r\n                        variant=\"contained\"\r\n                        color=\"primary\"\r\n                        disabled={isSubmitting}\r\n                        onClick={submitForm}\r\n                    >\r\n                        Submit\r\n                    </Button>\r\n                </Container>\r\n            </Form>\r\n        )}\r\n    />)\r\n};\r\n\r\n","import React from 'react';\r\nimport Container from '@material-ui/core/Container';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Link from '@material-ui/core/Link';\r\nimport DrawerAppBar from './components/DrawerAppBar';\r\nimport {\r\n    BrowserRouter as Router, Route, Switch, Redirect\r\n} from \"react-router-dom\";\r\nimport SignIn from \"./components/SignIn\";\r\nimport Contacts from \"./components/Contacts\";\r\nimport NewContact from \"./components/NewContact\";\r\nimport NewCampaign from \"./components/Campaign/NewCampaign\";\r\n\r\nfunction Copyright() {\r\n    return (\r\n        <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\r\n            {'Copyright © '}\r\n            <Link color=\"inherit\" href=\"https://mrKannah.com/\">\r\n                Kannah Services\r\n            </Link>{' '}\r\n            {new Date().getFullYear()}\r\n            {'.'}\r\n        </Typography>\r\n    );\r\n}\r\n\r\nexport default function App() {\r\n    return (\r\n        <Container disableGutters={true} maxWidth=\"md\">\r\n                <Router basename={process.env.PUBLIC_URL}>\r\n                    <DrawerAppBar />\r\n                    <Switch>\r\n                        <Route path=\"/campaigns/new\">\r\n                            <NewCampaign/>\r\n                        </Route>\r\n                        <Route path=\"/contacts/new\">\r\n                            <NewContact/>\r\n                        </Route>\r\n                        <Route path=\"/contacts\">\r\n                            <Contacts/>\r\n                        </Route>\r\n                        <Route path=\"/signIn\">\r\n                            <SignIn/>\r\n                        </Route>\r\n                        <Route path=\"*\">\r\n                            <Redirect to={\"/contacts\"} />\r\n                        </Route>\r\n                    </Switch>\r\n                </Router>\r\n                <Copyright />\r\n        </Container>\r\n    );\r\n}\r\n","import { red } from '@material-ui/core/colors';\r\nimport { createMuiTheme } from '@material-ui/core/styles';\r\n\r\n// A custom theme for this app\r\nconst theme = createMuiTheme({\r\n    palette: {\r\n        primary: {\r\n            main: '#556cd6',\r\n        },\r\n        secondary: {\r\n            main: '#19857b',\r\n        },\r\n        error: {\r\n            main: red.A400,\r\n        },\r\n        background: {\r\n            default: '#fff',\r\n        },\r\n    },\r\n});\r\n\r\nexport default theme;\r\n","import React, {useContext} from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport { ThemeProvider } from '@material-ui/core/styles';\r\nimport App from './App';\r\nimport theme from './theme';\r\nimport Firebase, { FirebaseContext } from './components/Firebase';\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\nimport Container from \"@material-ui/core/Container\";\r\n\r\nfunction NeedsFirebase(props) {\r\n    const [isReady, setIsReady] = React.useState(false);\r\n    const firebase = useContext(FirebaseContext);\r\n    if (!firebase.isListening) {\r\n        firebase.onAuthUserListener(() => setIsReady(true));\r\n    }\r\n    if (isReady) return props.component;\r\n    return <Container disableGutters={true} maxWidth=\"md\">\r\n            <CircularProgress />\r\n        </Container>;\r\n}\r\n\r\n\r\nReactDOM.render(\r\n    <ThemeProvider theme={theme}>\r\n        {/* CssBaseline kickstart an elegant, consistent, and simple baseline to build upon. */}\r\n        <CssBaseline />\r\n        <FirebaseContext.Provider value={new Firebase()}>\r\n            <NeedsFirebase component={<App />} />\r\n        </FirebaseContext.Provider>,\r\n    </ThemeProvider>,\r\n    document.querySelector('#root'),\r\n);\r\n"],"sourceRoot":""}
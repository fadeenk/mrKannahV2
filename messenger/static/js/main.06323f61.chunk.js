(this["webpackJsonpreact-web-gifted-chat-demo"]=this["webpackJsonpreact-web-gifted-chat-demo"]||[]).push([[0],{161:function(e,t,a){e.exports=a(224)},224:function(e,t,a){"use strict";a.r(t);var n=a(21),r=a(0),c=a.n(r),i=a(11),o=a.n(i),l=a(281),u=a(278),s=a(273),m=a(68),d=a(274),h=a(131),p=a(268),b=a(269),f=a(234),g=a(134),E=a.n(g),v=a(135),w=a.n(v),S=a(270),O=a(271),C=a(272),x=a(283),y=a(45),I=Object(h.a)((function(e){return{root:{flexGrow:1},list:{width:250},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}}}));function j(){var e=I(),t=Object(y.g)(),a=c.a.useState(!1),r=Object(n.a)(a,2),i=r[0],o=r[1],l=c.a.useState(null),u=Object(n.a)(l,2),s=u[0],d=u[1],h=Boolean(s),g=function(e){d(e.currentTarget)},v=function(){d(null)};function j(e){o("/about"===e),t.push(e),v()}return c.a.createElement("div",{className:e.root},c.a.createElement(p.a,{position:"static"},c.a.createElement(b.a,null,c.a.createElement(f.a,{edge:"start",className:e.menuButton,color:"inherit","aria-label":"menu",onClick:g},c.a.createElement(E.a,null)),c.a.createElement(m.a,{variant:"h6",className:e.title},"Title"),c.a.createElement(x.a,{id:"menu-appbar",open:h,onClose:v},c.a.createElement(S.a,{className:e.list},c.a.createElement(O.a,{button:!0,onClick:function(){return j("/")}},c.a.createElement(C.a,null,"Home")),c.a.createElement(O.a,{button:!0,onClick:function(){return j("/about")}},c.a.createElement(C.a,null,"About")),c.a.createElement(O.a,{button:!0,onClick:function(){return j("/contacts")}},c.a.createElement(C.a,null,"Contacts")),c.a.createElement(O.a,{button:!0,onClick:function(){return j("/signIn")}},c.a.createElement(C.a,null,"Sign In")))),i&&c.a.createElement("div",null,c.a.createElement(f.a,{"aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:g,color:"inherit"},c.a.createElement(w.a,null))))))}var N=a(48),k=a(118),P=c.a.createContext(null),A=P,U=a(136),R=a(7),W=a.n(R),L=(a(116),a(171),a(226),{apiKey:"AIzaSyAW13v7Owgxl7bmjFede3fW8z4yRhUA5i8",authDomain:"messenger-6915d.firebaseapp.com",databaseURL:"https://messenger-6915d.firebaseio.com",projectId:"messenger-6915d",storageBucket:"messenger-6915d.appspot.com",messagingSenderId:"775400894613",appId:"1:775400894613:web:c7a2ec7fb7a795b6bd2b9c",measurementId:"G-7D8FVV5M3E"}),F=function e(){var t=this;Object(U.a)(this,e),this.doCreateUserWithEmailAndPassword=function(e,a){return t.auth.createUserWithEmailAndPassword(e,a)},this.doSignInWithEmailAndPassword=function(e,a){return t.auth.signInWithEmailAndPassword(e,a)},this.doSignInWithGoogle=function(){return t.auth.signInWithPopup(t.googleProvider)},this.doSignInWithFacebook=function(){return t.auth.signInWithPopup(t.facebookProvider)},this.doSignInWithTwitter=function(){return t.auth.signInWithPopup(t.twitterProvider)},this.doSignOut=function(){return t.auth.signOut()},this.doPasswordReset=function(e){return t.auth.sendPasswordResetEmail(e)},this.doSendEmailVerification=function(){return t.auth.currentUser.sendEmailVerification({url:Object({NODE_ENV:"production",PUBLIC_URL:"/messenger"}).REACT_APP_CONFIRMATION_EMAIL_REDIRECT})},this.doPasswordUpdate=function(e){return t.auth.currentUser.updatePassword(e)},this.onAuthUserListener=function(e){t.isListening=!0,t.auth.onAuthStateChanged((function(t){t&&(t={uid:t.uid,email:t.email,emailVerified:t.emailVerified,providerData:t.providerData}),e(t)}))},this.getCurrentUser=function(){return t.auth.currentUser},this.getStorageRef=function(){return t.storage.ref().child(t.auth.currentUser.uid)},W.a.initializeApp(L),this.serverValue=W.a.firestore.ServerValue,this.emailAuthProvider=W.a.auth.EmailAuthProvider,this.isListening=!1,this.auth=W.a.auth(),this.db=W.a.firestore(),this.storage=W.a.storage(),this.googleProvider=new W.a.auth.GoogleAuthProvider,this.facebookProvider=new W.a.auth.FacebookAuthProvider,this.twitterProvider=new W.a.auth.TwitterAuthProvider},V=a(137),D=a.n(V);function T(){var e=this,t=Object(y.g)(),a=Object(r.useContext)(A),i=c.a.useState(!1),o=Object(n.a)(i,2),l=o[0],u=o[1];a.auth.onAuthStateChanged((function(e){e&&u(!0)}));var d={callbacks:{signInSuccessWithAuthResult:function(e,a){return t.push("/"),!1}},signInSuccessUrl:"/",signInFlow:"popup",signInOptions:[a.googleProvider.providerId,{provider:"yahoo.com",scopes:["sdpp-w"]}]};return l?c.a.createElement(s.a,null,c.a.createElement(m.a,null,"You are already logged In."),c.a.createElement(k.a,{onClick:function(){a.doSignOut(),e.setState({loggedIn:!1})}},"Sign out")):c.a.createElement(D.a,{uiConfig:d,firebaseAuth:a.auth})}var G=a(15),J=a.n(G),_=a(101),B=a(59),q=a(276),z=a(275),H=a(284),K=a(285),M=a(277),Y=a(140),Q=a.n(Y),X=a(141),Z=a.n(X),$=a(139),ee=a.n($),te=Object(h.a)((function(e){return{root:{width:"100%",backgroundColor:e.palette.background.paper,minHeight:500}}}));function ae(){var e=te(),t=Object(y.g)(),a=c.a.useState([]),i=Object(n.a)(a,2),o=i[0],l=i[1],u=c.a.useState([]),m=Object(n.a)(u,2),h=m[0],p=m[1],b=Object(r.useContext)(A),f=b.db,g=b.getCurrentUser();g||t.push("/signIn");var E=g?g.uid:null,v=function(){f.collection("contacts").where("ownerID","==",E).get().then((function(e){h=[],e.forEach((function(e){h.push(Object(B.a)({id:e.id},e.data()))})),p(h)}))};!h.length&&E&&v();var w=function(e){return function(){var t=o.findIndex((function(t){return t.id===e.id}));-1===t?o.push(e):o.splice(t,1),e.checked=!e.checked,l(Object(_.a)(o))}};return c.a.createElement("div",null,o.length>0&&c.a.createElement(d.a,{onClick:function(){p(h.map((function(e){return e.checked=!0,e}))),l(Object(_.a)(h))}},"Select all"),c.a.createElement(S.a,{className:e.root},h.length>0&&h.map((function(e){var a,n,r="checkbox-list-secondary-label-".concat(e.id);return c.a.createElement(O.a,{key:e.id,button:!0,onClick:function(){return function(e){var a=Object.assign(e);delete a.checked,sessionStorage.setItem("contact",JSON.stringify(a)),t.push("/contacts/new?data=updateContact")}(e)}},c.a.createElement(z.a,null,c.a.createElement(K.a,null,(a=e.firstName,(n=e.lastName).length?a[0]+n[0]:a.substr(0,2)))),c.a.createElement(C.a,{id:r,primary:"".concat(e.firstName," ").concat(e.lastName)}),c.a.createElement(q.a,null,c.a.createElement(H.a,{edge:"end",onChange:w(e),checked:e.checked,inputProps:{"aria-labelledby":r}})))}))),c.a.createElement(s.a,{maxWidth:"md"},c.a.createElement(M.a,{disabled:!o.length,className:e.fab,onClick:function(){return sessionStorage.setItem("newCampaign",JSON.stringify(o)),void t.push("/campaigns/new")}},c.a.createElement(ee.a,null)),c.a.createElement(M.a,{disabled:!E,className:e.fab,onClick:function(){return t.push("/contacts/new")}},c.a.createElement(Q.a,null)),c.a.createElement(M.a,{disabled:!o.length,className:e.fab,onClick:function(){return function(){var e;return J.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return e=o.map((function(e){return J.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,J.a.awrap(f.collection("contacts").doc(e.id).delete());case 2:w(e);case 3:case"end":return t.stop()}}))})),t.next=3,J.a.awrap(Promise.all(e));case 3:v();case 4:case"end":return t.stop()}}))}()}},c.a.createElement(Z.a,null))))}var ne=a(19),re=a(279),ce=a(61),ie=a(144),oe=a.n(ie);function le(e,t,a){var n,r,c;return J.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return n=e.id,r=Object(B.a)({ownerID:a},e),c=n?t.collection("contacts").doc(n):t.collection("contacts").doc(),i.next=5,J.a.awrap(c.set(r));case 5:case"end":return i.stop()}}))}function ue(){var e=Object(r.useContext)(A),t=Object(y.g)(),a=new URLSearchParams(Object(y.h)().search).get("data"),n={firstName:"",lastName:"",phoneNumber:""};return"updateContact"===a&&(n=JSON.parse(sessionStorage.getItem("contact"))),c.a.createElement(ne.c,{initialValues:n,validate:function(e){var t={};return e.firstName||(t.firstName="Required"),e.phoneNumber||(t.phoneNumber="Required"),t},onSubmit:function(a,n){var r;return J.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return r=n.setSubmitting,c.next=3,J.a.awrap(le(a,e.db,e.getCurrentUser().uid));case 3:t.push("/contacts"),r(!1);case 5:case"end":return c.stop()}}))},render:function(e){var t=e.submitForm,a=e.isSubmitting,r=(e.values,e.setFieldValue);return c.a.createElement(ne.b,null,c.a.createElement(s.a,{maxWidth:"md"},c.a.createElement(ne.a,{name:"firstName",type:"text",label:"First Name",component:ce.a}),c.a.createElement("br",null),c.a.createElement(ne.a,{name:"lastName",type:"text",label:"Last Name",component:ce.a}),c.a.createElement("br",null),c.a.createElement(ne.a,{name:"phoneNumber",type:"text",label:"Phone",value:n.phoneNumber,component:oe.a,defaultCountry:"us",onlyCountries:["us"],disableAreaCodes:!0,onChange:function(e){r("phoneNumber",e.replace(/\(|\)|-|\s/g,""))}}),c.a.createElement("br",null),a&&c.a.createElement(re.a,null),c.a.createElement("br",null),c.a.createElement(k.a,{variant:"contained",color:"primary",disabled:a,onClick:t},"Submit")))}})}function se(e){var t=Object(r.useState)(!0),a=Object(n.a)(t,2),i=a[0],o=a[1],l=Object(r.useState)(),u=Object(n.a)(l,2),s=u[0],m=u[1];if(e.file){var d=new FileReader;return d.onloadend=function(){o(!1),m(d.result)},d.readAsDataURL(e.file),i?c.a.createElement("p",null,"loading..."):c.a.createElement("img",{src:s,alt:e.file.name,style:{maxWidth:200,maxHeight:200}})}}a(207);var me="campaigns";function de(e,t,a){var n,r,c;return J.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return n=e.id,r=Object(B.a)({ownerID:a},e),c=n?t.collection(me).doc(n):t.collection(me).doc(),i.next=5,J.a.awrap(c.set(r));case 5:return i.abrupt("return",c.id);case 6:case"end":return i.stop()}}))}function he(){var e=Object(r.useContext)(A),t=Object(y.g)(),a=Object(r.useState)([]),i=Object(n.a)(a,2),o=i[0],l=i[1],u=new URLSearchParams(Object(y.h)().search).get("data"),d={title:"",text:"",contacts:[],state:"draft",images:[]};function h(t){var a,n,r,c;return J.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return a=e.getStorageRef(),n=a.child(t.name),r={contentType:t.type},i.next=5,J.a.awrap(n.put(t,r));case 5:return c=i.sent,i.next=8,J.a.awrap(c.ref.getDownloadURL());case 8:return i.abrupt("return",i.sent);case 9:case"end":return i.stop()}}))}return"updateCampaign"===u?d=JSON.parse(sessionStorage.getItem("campaign")):d.contacts=JSON.parse(sessionStorage.getItem("newCampaign"))||[],c.a.createElement(ne.c,{initialValues:d,validate:function(e){var t={};return e.title||(t.title="Required"),t},onSubmit:function(a,n){var r,c;return J.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return r=n.setSubmitting,i.next=3,J.a.awrap(Promise.all(Array.from(o).map(h)));case 3:return a.images=i.sent,console.log(a),i.next=7,J.a.awrap(de(a,e.db,e.getCurrentUser().uid));case 7:c=i.sent,alert("Saved successfully!\nYour campaign confirmation: "+c),setTimeout((function(){return t.push("/contacts")}),5e3),r(!1);case 11:case"end":return i.stop()}}))},render:function(e){var t=e.submitForm,a=e.isSubmitting;e.values,e.setFieldValue;return c.a.createElement(ne.b,null,c.a.createElement(s.a,{maxWidth:"md"},c.a.createElement(ne.a,{name:"title",type:"text",label:"Title",component:ce.a}),c.a.createElement("br",null),c.a.createElement(ne.a,{name:"text",type:"text",label:"Text",component:ce.a}),c.a.createElement("br",null),c.a.createElement("br",null),c.a.createElement(m.a,{variant:"body2"},"Sending to ".concat(d.contacts.length," contact").concat(d.contacts.length>1?"s":"")),c.a.createElement("br",null),c.a.createElement(m.a,{variant:"body1"},"Upload Images"),c.a.createElement("input",{"aria-label":"upload images",multiple:!0,name:"uploader",type:"file",accept:"image/*",onChange:function(e){l(e.currentTarget.files)}}),c.a.createElement("br",null),Array.from(o).map((function(e){return c.a.createElement(se,{key:e.name,file:e})})),c.a.createElement("br",null),a&&c.a.createElement(re.a,null),c.a.createElement("br",null),c.a.createElement(k.a,{variant:"contained",color:"primary",disabled:a,onClick:t},"Submit")))}})}function pe(){return c.a.createElement(m.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",c.a.createElement(d.a,{color:"inherit",href:"https://mrKannah.com/"},"Kannah Services")," ",(new Date).getFullYear(),".")}var be=a(86),fe=a(145),ge=Object(fe.a)({palette:{primary:{main:"#556cd6"},secondary:{main:"#19857b"},error:{main:be.a.A400},background:{default:"#fff"}}}),Ee=a(280);o.a.render(c.a.createElement(u.a,{theme:ge},c.a.createElement(l.a,null),c.a.createElement(A.Provider,{value:new F},c.a.createElement((function(e){var t=c.a.useState(!1),a=Object(n.a)(t,2),i=a[0],o=a[1],l=Object(r.useContext)(A);return l.isListening||l.onAuthUserListener((function(){return o(!0)})),i?e.component:c.a.createElement(s.a,{disableGutters:!0,maxWidth:"md"},c.a.createElement(Ee.a,null))}),{component:c.a.createElement((function(){return c.a.createElement(s.a,{disableGutters:!0,maxWidth:"md"},c.a.createElement(N.a,{basename:"/messenger"},c.a.createElement(j,null),c.a.createElement(y.d,null,c.a.createElement(y.b,{path:"/campaigns/new"},c.a.createElement(he,null)),c.a.createElement(y.b,{path:"/contacts/new"},c.a.createElement(ue,null)),c.a.createElement(y.b,{path:"/contacts"},c.a.createElement(ae,null)),c.a.createElement(y.b,{path:"/signIn"},c.a.createElement(T,null)),c.a.createElement(y.b,{path:"*"},c.a.createElement(y.a,{to:"/contacts"})))),c.a.createElement(pe,null))}),null)})),","),document.querySelector("#root"))}},[[161,1,2]]]);
//# sourceMappingURL=main.06323f61.chunk.js.map